# Configuration Ogan Framework

app:
  env: '%env(APP_ENV)%'
  debug: true

view:
  templates_path: '%kernel.project_dir%/templates'
  default_layout: layouts/base.ogan
  default_title: Mon site
  use_compiler: true
  cache_dir: '%kernel.project_dir%/var/cache/templates'

router:
  base_path: ''

css_framework:
  provider: tailwind
  version: 4.1.18
  cdn: false
  custom_css: []

tailwind:
  input: assets/css/app.css
  output: public/assets/css/app.css
  minify: false

session:
  name: OGAN_SESSION
  lifetime: 7200
  path: /
  domain: ''
  secure: false
  httponly: true
  samesite: Lax

# Configuration du cache
cache:
  driver: file                    # Driver par défaut: file, array
  path: '%kernel.project_dir%/var/cache/data'
  default_ttl: 3600               # 1 heure par défaut

  # Stores spécifiques
  stores:
    file:
      path: '%kernel.project_dir%/var/cache/data'
      ttl: 3600
    array:
      ttl: 3600

  # Cache des requêtes (QueryBuilder)
  queries:
    enabled: true
    ttl: 300                      # 5 minutes pour les queries

  # Cache des routes (compilation)
  routes:
    enabled: true
    file: '%kernel.project_dir%/var/cache/routes.php'

# Configuration de l'authentification
auth:
  # Envoyer un email de vérification à l'inscription
  send_verification_email: false
  # Envoyer un email pour le reset de mot de passe
  send_password_reset_email: false
  # Redirections après login/logout
  login_redirect: /dashboard
  logout_redirect: /login

# Configuration des emails
mail:
  dsn: '%env(MAILER_DSN)%'
  from: '%env(MAIL_FROM)%'
  from_name: '%env(MAIL_FROM_NAME)%'

# Configuration du debug (uniquement actif en dev)
debug:
  enabled: true           # Activer les outils de debug
  debug_bar: true         # Afficher la debug bar
  collect_queries: true   # Logger les requêtes SQL
  max_dump_depth: 10      # Profondeur max pour dump()

# Configuration de sécurité / autorisation
security:
  # Classe utilisateur pour l'authentification
  user_class: App\Model\User
  
  # Hiérarchie des rôles (un rôle parent hérite des enfants)
  role_hierarchy:
    ROLE_ADMIN: [ROLE_USER]
    ROLE_SUPER_ADMIN: [ROLE_ADMIN]
  
  # Page de refus d'accès
  access_denied_url: /login

# Configuration Frontend (JavaScript)
frontend:
  htmx:
    enabled: false                 # HTMX activé
    script: assets/js/htmx.min.js       # Chemin du script local
